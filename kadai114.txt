プログラム1のは実行時間が0.023243秒だったのに対し、プログラム２は実行時間が22.858718秒であった。これは1000倍程度の差である。この差は計算機のキャッシュの仕組みによる。
キャッシュでは一度使ったメモリ上のデータをメモリより速くアクセスできるキャッシュに保存することによって、また同じデータを使うときにより速くそのデータにアクセスできるというデータの時間的局所性を利用したシステムを使っている。また、空間的局所性を利用して、アクセスしたデータの周辺のデータもキャッシュに保存するという特徴もある。
プログラム1ではindexが連続したi=0からi=1e7までのデータを扱っている。そのため、一度あるデータにアクセスすると続くいくらかのindexのデータはキャッシュに保存されているため、すぐにアクセスできる。
一方、プログラム２ではindexが1000ごとにのデータを扱っている。そのため、一度あるデータにアクセスしても、続く999個のindexのデータは使わないので無駄になって今う。一度にキャッシュに保存できる、必要なデータはプログラム１の1000分の1となってしまい、その結果1000倍実行速度が遅くなってしまったと考えられる。
